import{_ as p}from"./Menu.vue.db477a31.js";import{a as h,m as v,z as M,b as D,k as u,A as Y,B as x,e as y,q as L,f as o,h as T,v as B,u as c,l as H,o as O}from"./entry.adf6f5f7.js";import{u as l,s as $}from"./config.c2db4e89.js";import{u as k}from"./auth.cb4bed8f.js";import"./nuxt-link.e332d9af.js";const w={class:"date-container"},A={class:"date-div"},N={class:"log-container mt-2"},V=["innerHTML"],b=h({__name:"logging",setup(C){v({title:"Logging | ffplayout"});const{configID:f}=M(l()),{$dayjs:i}=D(),d=k(),s=l(),n=u(""),e=u(i().utcOffset(s.utcOffset).format("YYYY-MM-DD")),{formatLog:_}=$();Y(()=>{r()}),x([e,f],()=>{r()});async function r(){let a=e.value;a===i().utcOffset(s.utcOffset).format("YYYY-MM-DD")&&(a=""),await fetch(`/api/log/${s.configGui[s.configID].id}?date=${a}`,{method:"GET",headers:d.authHeader}).then(t=>t.text()).then(t=>{n.value=t}).catch(()=>{n.value=""})}return(a,t)=>{const m=p;return O(),y("div",null,[L(m),o("div",w,[o("div",A,[T(o("input",{type:"date",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=g=>H(e)?e.value=g:null)},null,512),[[B,c(e)]])])]),o("div",N,[o("div",{class:"log-content",innerHTML:c(_)(c(n))},null,8,V)])])}}});export{b as default};
