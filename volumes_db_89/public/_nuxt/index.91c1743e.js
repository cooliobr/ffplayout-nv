import{_ as k}from"./nuxt-link.e332d9af.js";import{a as C,k as p,e as m,u as c,f as s,q as u,s as d,w as L,h as v,v as b,l as h,x as U,y as e,t as S,o as f}from"./entry.adf6f5f7.js";import{u as T}from"./auth.cb4bed8f.js";import{u as V}from"./config.c2db4e89.js";const M=""+new URL("ffplayout.dbea4f73.png",import.meta.url).href,N={key:0},P={class:"container login-container"},q=s("div",{class:"logo-div"},[s("img",{src:M,class:"img-fluid",alt:"Logo",width:"256",height:"256"})],-1),B={class:"actions"},E={class:"btn-group actions-grp btn-group-lg",role:"group"},D={key:1},I=s("div",{class:"logout-div"},null,-1),R={class:"container login-container"},z=s("div",{class:"header"},[s("h1",null,"ffplayout")],-1),A=["onSubmit"],W={id:"input-group-1",class:"mb-3"},$=s("label",{for:"input-user",class:"form-label"},"User:",-1),j={class:"mb-3"},F=s("label",{for:"input-pass",class:"form-label"},"Password:",-1),G={class:"row"},H=s("div",{class:"col-3"},[s("button",{class:"btn btn-primary",type:"submit"},"Login")],-1),J={class:"col-9"},K=s("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),ss=C({__name:"index",setup(O){const n=T(),y=V(),a=p(""),g=p(!1),i=p(""),l=p("");n.inspectToken();async function w(){try{const t=await n.obtainToken(i.value,l.value);i.value="",l.value="",a.value="",(t===401||t===400||t===403)&&(a.value="Wrong User/Password!",g.value=!0),await y.nuxtClientInit()}catch(t){a.value=t}}async function x(){try{n.removeToken(),n.updateIsLogin(!1)}catch(t){a.value=t}}return(t,o)=>{const r=k;return f(),m("div",null,[c(n).isLogin?(f(),m("div",N,[s("div",P,[s("div",null,[q,s("div",B,[s("div",E,[u(r,{to:"/player",class:"btn btn-primary"},{default:d(()=>[e("Player")]),_:1}),u(r,{to:"/media",class:"btn btn-primary"},{default:d(()=>[e("Media")]),_:1}),u(r,{to:"/message",class:"btn btn-primary"},{default:d(()=>[e("Message")]),_:1}),u(r,{to:"logging",class:"btn btn-primary"},{default:d(()=>[e("Logging")]),_:1}),u(r,{to:"/configure",class:"btn btn-primary"},{default:d(()=>[e(" Configure ")]),_:1}),s("button",{class:"btn btn-primary",onClick:o[0]||(o[0]=_=>x())},"Logout")])])])])])):(f(),m("div",D,[I,s("div",R,[s("div",null,[z,s("form",{class:"login-form",onSubmit:L(w,["prevent"])},[s("div",W,[$,v(s("input",{type:"text",id:"input-user",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=_=>h(i)?i.value=_:null),"aria-describedby":"Username",required:""},null,512),[[b,c(i)]])]),s("div",j,[F,v(s("input",{type:"password",id:"input-pass",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=_=>h(l)?l.value=_:null),required:""},null,512),[[b,c(l)]])]),s("div",G,[H,s("div",J,[s("div",{class:U(["alert alert-danger alert-dismissible fade login-alert",{show:c(g)}]),role:"alert"},[e(S(c(a))+" ",1),K],2)])])],40,A)])])]))])}}});export{ss as default};
